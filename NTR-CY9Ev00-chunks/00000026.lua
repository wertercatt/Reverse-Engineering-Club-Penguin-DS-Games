local L0_0, L1_1
L0_0 = _util
L0_0 = L0_0.GetActiveMission
L0_0 = L0_0()
L1_1 = _util
L1_1 = L1_1.GetActiveChapter
L1_1 = L1_1()
setupItems(L0_0, L1_1)
spypodCheck(L0_0, L1_1)
mapCheck(L0_0, L1_1)
communicatorCheck(L0_0, L1_1)
if L0_0 == 3 then
  if _util.GetVar("M6_HerbIntro") == 0 then
    _util.HidePuffle()
    _util.SetCursorPos(800, 90)
    _util.SetVar("M6_HerbIntro", 1)
    _util.SetSpawn(0, _id.M6_Gary_Gadget)
    _util.DelItem(_id.M6_Door2Cave)
    _util.AddItem(_id.M6_Snow1)
    _util.AddItem(_id.M6_Snow2)
    _util.AddItem(_id.M6_Snow3)
    _util.AddItem(_id.M6_Snow4)
    _util.AddItem(_id.M6_HerbertCave, 1)
    _util.ActivateNpc(_id.M6_HerbertCave, 1)
    _util.MarkObjComplete(_text.M6_OBJ3)
    _util.AddObjective(_text.M6_OBJ4)
    _util.AddSubObjective(_text.M6_OBJ4, _text.M6_4SUBOBJ2)
    _util.SetVar("M6_Obj_trappedByHerb", 1)
  end
  _util.AddItem(63992, 2001)
  _util.AddItem(63797, 2001)
  _util.AddItem(63812, 2001)
  _util.AddItem(63703, 2001)
  _util.AddItem(63515, 2001)
  _util.AddItem(63528, 2001)
  _util.AddItem(63968, 2001)
  _util.AddItem(63923, 2001)
  _util.AddItem(63601, 2001)
  _util.AddItem(63509, 2001)
  _util.AddItem(63995, 2001)
  _util.AddItem(63517, 2001)
  _util.AddItem(63834, 2001)
  _util.AddItem(63913, 2001)
  _util.AddItem(63647, 2001)
  _util.AddItem(63983, 2001)
  _util.AddItem(63494, 2001)
  _util.AddItem(63853, 2001)
  _util.AddItem(63551, 2001)
  _util.AddItem(63512, 2001)
  _util.AddItem(63816, 2001)
end
